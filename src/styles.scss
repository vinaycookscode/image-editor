/* You can add global styles to this file, and also import other style files */

/* Clarity Design System */
@import '@cds/core/global.min.css';
@import '@clr/ui/clr-ui.min.css';

/* Global CSS Variables for Theming - Using Clarity Design Colors */
:root {
  /* Dark mode (default) - Clarity Dark Theme Colors */
  --bg-main: #1b2a32; /* Clarity Dark Gray 0 */
  --bg-panel: #2a3439; /* Clarity Dark Gray 1 */
  --text-main: #e9ecef; /* Clarity Dark Gray 9 */
  --text-secondary: #a1a8ae; /* Clarity Dark Gray 6 */
  --border-main: #495057; /* Clarity Dark Gray 3 */
  --shadow-main: 0 2px 8px rgba(0, 0, 0, 0.3); /* Clarity dark shadow */
  --toolbar-bg: #2a3439; /* Clarity Dark Gray 1 */
  --toolbar-icon: #e9ecef; /* Clarity Dark Gray 9 */
  --toolbar-icon-active: #49afd9; /* Clarity Blue 4 for dark mode */
  --sidebar-bg: #2a3439; /* Clarity Dark Gray 1 */
  --sidebar-title: #e9ecef; /* Clarity Dark Gray 9 */
  --sidebar-hover: #343a40; /* Clarity Dark Gray 2 */
  --crop-border: #49afd9; /* Clarity Blue 4 for dark mode */
  --handle-bg: #2a3439; /* Clarity Dark Gray 1 */
  --handle-border: #49afd9; /* Clarity Blue 4 for dark mode */
  --handle-shadow: 0 2px 4px rgba(73, 175, 217, 0.3); /* Clarity Blue shadow for dark */
  --button-bg: #2a3439; /* Clarity Dark Gray 1 */
  --button-text: #e9ecef; /* Clarity Dark Gray 9 */
  --button-hover: #343a40; /* Clarity Dark Gray 2 */
  --input-bg: #2a3439; /* Clarity Dark Gray 1 */
  --input-border: #495057; /* Clarity Dark Gray 3 */
  --input-text: #e9ecef; /* Clarity Dark Gray 9 */
  --primary-color: #49afd9; /* Clarity Blue 4 for dark mode */
  --hover-bg: #343a40; /* Clarity Dark Gray 2 */
}

/* Light mode - Clarity Light Theme Colors */
:root.light-mode {
  --bg-main: #fafafa; /* Clarity Gray 0 */
  --bg-panel: #ffffff; /* Clarity White */
  --text-main: #21333b; /* Clarity Gray 9 */
  --text-secondary: #5a6c7d; /* Clarity Gray 6 */
  --border-main: #d0d6db; /* Clarity Gray 3 */
  --shadow-main: 0 2px 8px rgba(0, 0, 0, 0.12); /* Clarity shadow */
  --toolbar-bg: #ffffff; /* Clarity White */
  --toolbar-icon: #21333b; /* Clarity Gray 9 */
  --toolbar-icon-active: #0072a3; /* Clarity Blue 6 */
  --sidebar-bg: #ffffff; /* Clarity White */
  --sidebar-title: #21333b; /* Clarity Gray 9 */
  --sidebar-hover: #f2f4f5; /* Clarity Gray 1 */
  --crop-border: #0072a3; /* Clarity Blue 6 */
  --handle-bg: #ffffff; /* Clarity White */
  --handle-border: #0072a3; /* Clarity Blue 6 */
  --handle-shadow: 0 2px 4px rgba(0, 114, 163, 0.15); /* Clarity Blue shadow */
  --button-bg: #ffffff; /* Clarity White */
  --button-text: #21333b; /* Clarity Gray 9 */
  --button-hover: #f2f4f5; /* Clarity Gray 1 */
  --input-bg: #ffffff; /* Clarity White */
  --input-border: #d0d6db; /* Clarity Gray 3 */
  --input-text: #21333b; /* Clarity Gray 9 */
  --primary-color: #0072a3; /* Clarity Blue 6 */
  --hover-bg: #f2f4f5; /* Clarity Gray 1 */
}

/* Global body styles */
body {
  margin: 0;
  padding: 0;
  font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, 'Helvetica Neue', Arial, sans-serif;
  background: var(--bg-main);
  color: var(--text-main);
  transition: background-color 0.3s ease, color 0.3s ease;
}

/* Global HTML styles */
html {
  transition: background-color 0.3s ease;
}

/* Clarity Design System theme overrides for light mode */
.light-mode [cds-button] {
  color: var(--text-main) !important;
}

.light-mode [cds-button="icon"] {
  color: var(--toolbar-icon) !important;
}

.light-mode [cds-button="icon"]:hover {
  background-color: rgba(144, 202, 249, 0.1) !important;
}

/* Clarity icon color overrides for light mode */
.light-mode [cds-button="icon"] cds-icon,
.light-mode [cds-button="action"] cds-icon {
  color: var(--toolbar-icon) !important;
}

.light-mode [cds-button="icon"]:hover cds-icon,
.light-mode [cds-button="action"]:hover cds-icon {
  color: var(--toolbar-icon-active) !important;
}

/* Ensure all Clarity icons are visible in light mode */
.light-mode cds-icon {
  color: var(--toolbar-icon) !important;
}

/* Force icon visibility in light mode */
.light-mode [cds-button="icon"] cds-icon {
  color: #21333b !important; /* Clarity Gray 9 */
}

.light-mode [cds-button="icon"]:hover cds-icon {
  color: #0072a3 !important; /* Clarity Blue 6 */
}

.light-mode [cds-button="action"] cds-icon {
  color: #21333b !important; /* Clarity Gray 9 */
}

.light-mode [cds-button="action"]:hover cds-icon {
  color: #0072a3 !important; /* Clarity Blue 6 */
}

/* Fix light mode button backgrounds */
.light-mode [cds-button="icon"] {
  background-color: transparent !important;
  border-color: transparent !important;
}

.light-mode [cds-button="icon"]:hover {
  background-color: rgba(0, 114, 163, 0.1) !important; /* Clarity Blue 6 with opacity */
}

.light-mode [cds-button="outline"] {
  background-color: transparent !important;
  color: #0072a3 !important; /* Clarity Blue 6 */
  border: 1px solid #0072a3 !important; /* Clarity Blue 6 */
}

.light-mode [cds-button="outline"]:hover {
  background-color: #0072a3 !important; /* Clarity Blue 6 */
  color: #ffffff !important; /* Clarity White */
}

.light-mode [cds-button="action"] {
  background-color: #ffffff !important; /* Clarity White */
  border-color: #d0d6db !important; /* Clarity Gray 3 */
}

.light-mode [cds-button="action"]:hover {
  background-color: #f2f4f5 !important; /* Clarity Gray 1 */
}

/* Clarity button overrides for light mode */
.light-mode [cds-button="primary"] {
  background-color: var(--toolbar-icon-active) !important;
  color: var(--bg-panel) !important;
}

.light-mode [cds-button="primary"]:hover {
  background-color: var(--toolbar-icon-active) !important;
  opacity: 0.9 !important;
}

/* Clarity button overrides for dark mode (default) */
[cds-button="primary"] {
  background-color: #49afd9 !important; /* Clarity Blue 4 for dark mode */
  color: #2a3439 !important; /* Clarity Dark Gray 1 */
}

[cds-button="primary"]:hover {
  background-color: #3d8bb8 !important; /* Clarity Blue 5 for dark mode */
}

[cds-button="outline"] {
  background-color: transparent !important;
  color: #49afd9 !important; /* Clarity Blue 4 for dark mode */
  border: 1px solid #49afd9 !important; /* Clarity Blue 4 for dark mode */
}

[cds-button="outline"]:hover {
  background-color: #49afd9 !important; /* Clarity Blue 4 for dark mode */
  color: #2a3439 !important; /* Clarity Dark Gray 1 */
}

[cds-button="action"] {
  background-color: #49afd9 !important; /* Clarity Blue 4 for dark mode */
  color: #2a3439 !important; /* Clarity Dark Gray 1 */
}

[cds-button="action"]:hover {
  background-color: #3d8bb8 !important; /* Clarity Blue 5 for dark mode */
}

/* Ensure Clarity components work well with our theme */
.light-mode [cds-button="flat"] {
  color: var(--text-main) !important;
}

.light-mode [cds-button="flat"]:hover {
  background-color: var(--sidebar-hover) !important;
}

/* Ensure tooltips are not hidden by overflow */
.editor-toolbar {
  overflow: visible !important;
}

.toolbar-icons {
  overflow: visible !important;
}

.toolbar-icons button {
  overflow: visible !important;
}

/* Native tooltip styles for dark mode */
.dark-mode [title]:hover::after {
  content: attr(title);
  position: absolute;
  bottom: 100%;
  left: 50%;
  transform: translateX(-50%);
  background: var(--bg-panel);
  color: var(--text-main);
  padding: 4px 8px;
  border-radius: 4px;
  font-size: 12px;
  white-space: nowrap;
  z-index: 1000;
  border: 1px solid var(--border-main);
  box-shadow: var(--shadow-main);
  pointer-events: none;
}

/* Clarity specific overrides */
[cds-button="icon"] {
  border-radius: 4px !important;
  min-width: 44px !important;
  min-height: 44px !important;
  width: 44px !important;
  height: 44px !important;
  cursor: pointer !important;
}

[cds-button="outline"] {
  border-radius: 4px !important;
  min-width: 44px !important;
  min-height: 44px !important;
  // width: 44px !important;
  height: 44px !important;
  cursor: pointer !important;
}

[cds-button="action"] {
  border-radius: 50% !important;
  min-width: 48px !important;
  min-height: 48px !important;
  width: 48px !important;
  height: 48px !important;
  cursor: pointer !important;
}

/* Ensure Clarity icons have proper sizing */
cds-icon {
  width: 20px !important;
  height: 20px !important;
}

/* Override Clarity's default button styles to match our design */
[cds-button] {
  font-family: inherit !important;
}

/* Input styles for dark mode */
.dark-mode input,
.dark-mode textarea,
.dark-mode select {
  background-color: var(--input-bg) !important;
  color: var(--input-text) !important;
  border-color: var(--input-border) !important;
}

/* Scrollbar styles for dark mode */
.dark-mode ::-webkit-scrollbar {
  width: 8px;
  height: 8px;
}

.dark-mode ::-webkit-scrollbar-track {
  background: var(--bg-panel);
}

.dark-mode ::-webkit-scrollbar-thumb {
  background: var(--border-main);
  border-radius: 4px;
}

.dark-mode ::-webkit-scrollbar-thumb:hover {
  background: var(--text-secondary);
}
