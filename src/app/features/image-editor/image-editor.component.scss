.editor-root{min-height:100vh;background:var(--bg-main);display:flex;flex-direction:column}
.editor-toolbar{display:flex;align-items:center;background:var(--bg-main);border-radius:8px 8px 0 0;box-shadow:0 1px 3px rgba(0,0,0,.08);padding:0 32px;min-height:64px;margin:24px 24px 0 24px;overflow:visible}
.toolbar-icons{display:flex;gap:12px}
.toolbar-icons div{display:flex;cursor:pointer}
.toolbar-icons button[cds-button="outline"]{color:var(--toolbar-icon);transition:color .2s,background .2s}
.toolbar-icons button[cds-button="outline"] cds-icon{color:var(--toolbar-icon);transition:color .2s}
.toolbar-icons button[cds-button="outline"].active,.toolbar-icons button[cds-button="outline"]:hover{color:var(--toolbar-icon-active);background:rgba(0,114,163,.08)}
.toolbar-icons button[cds-button="outline"].active cds-icon,.toolbar-icons button[cds-button="outline"]:hover cds-icon{color:var(--toolbar-icon-active)}
.toolbar-icons button[cds-button="outline"]:disabled{opacity:.5;cursor:not-allowed !important}
.toolbar-icons button[cds-button="outline"]:disabled cds-icon{color:var(--text-secondary) !important}
.toolbar-icons button[cds-button="outline"]:disabled:hover{background:transparent !important;cursor:not-allowed !important}
.zoom-display{display:flex;align-items:center;justify-content:center;min-width:50px;padding:8px 12px;background:var(--bg-panel);color:var(--text-main);border:1px solid var(--border-main);border-radius:6px;font-size:14px;font-weight:600;margin:0 4px}
.upload-btn{color:var(--toolbar-icon-active);background:transparent;border:1px solid var(--toolbar-icon-active);border-radius:6px;margin-right:12px;box-shadow:0 1px 2px rgba(0,114,163,.12);transition:all .2s;min-width:44px;min-height:44px;width:44px;height:44px;cursor:pointer}
.upload-btn cds-icon{color:var(--toolbar-icon-active)}
.upload-btn:hover{background:var(--toolbar-icon-active);color:#fff}
.dark-mode .upload-btn{background:transparent;border:1px solid #49afd9;color:#49afd9;box-shadow:0 1px 4px rgba(73,175,217,.08)}
.dark-mode .upload-btn:hover{background:#49afd9;color:#2a3439}
.upload-btn:hover cds-icon{color:#fff}
.dark-mode .upload-btn:hover cds-icon{color:#2a3439}
.toolbar-spacer{flex:1 1 auto;min-width:20px}
.export-btn{background:transparent;color:var(--toolbar-icon-active);border:1px solid var(--toolbar-icon-active);border-radius:6px;font-weight:600;font-size:16px;padding:12px 32px;min-width:140px;box-shadow:0 1px 2px rgba(0,114,163,.12);cursor:pointer;transition:all .2s;flex-shrink:0}
.export-btn:hover:not(:disabled){background:var(--toolbar-icon-active);color:var(--bg-panel)}
.export-btn:disabled{background:transparent;border-color:var(--text-secondary);color:var(--text-secondary);cursor:not-allowed;box-shadow:none;opacity:.5}
.editor-content{display:flex;flex:1;margin:0 24px 24px 24px;gap:32px}
.editor-center{flex:1 1 auto;display:flex;flex-direction:column;align-items:center;justify-content:center}
.canvas-container-outer{display:flex;flex-direction:column;align-items:center;justify-content:center;background:var(--bg-panel);border-radius:8px;box-shadow:0 1px 3px rgba(0,0,0,.08);padding:40px 40px 80px 40px;position:relative;min-width:600px;min-height:400px;max-width:100vw;max-height:80vh;overflow:auto}
.canvas-container{position:relative;display:flex;align-items:center;justify-content:center;background:var(--bg-panel);border-radius:6px;box-shadow:0 1px 2px rgba(0,0,0,.06);min-width:320px;min-height:200px;max-width:90vw;max-height:60vh;overflow:visible;cursor:grab}
.canvas-container.dragging{cursor:grabbing}
.editor-canvas{border-radius:4px;background:var(--bg-panel);box-shadow:none;display:block}
.crop-rect-overlay{position:absolute;border:1.5px solid var(--crop-border);border-radius:6px;background:transparent;z-index:3;pointer-events:none}
.crop-handle{width:14px;height:14px;background:var(--handle-bg);border:1.5px solid var(--handle-border);border-radius:50%;position:absolute;z-index:4;box-shadow:var(--handle-shadow);pointer-events:auto;transition:box-shadow .15s,border-color .15s}
.crop-handle:hover{box-shadow:0 2px 8px rgba(37,99,235,.18);border-color:#2563eb}
.editor-sidebar{width:260px;background:var(--bg-main);box-shadow:0 1px 3px rgba(0,0,0,.08);padding:32px 24px;display:flex;flex-direction:column;align-items:flex-start;min-width:180px;max-width:100vw;box-sizing:border-box;border:none}
.sidebar-title{font-size:1.4rem;font-weight:700;margin-bottom:32px;color:var(--sidebar-title)}
.sidebar-tools{display:flex;flex-direction:column;gap:16px;width:100%}
.sidebar-tool{display:flex;align-items:center;gap:16px;font-size:1.1rem;font-weight:400;color:var(--text-main);background:none;border:none;border-radius:6px;padding:10px 12px;cursor:pointer;transition:background .15s;width:100%;text-align:left;min-height:44px;justify-content:flex-start}
.sidebar-tool:hover, .sidebar-tool.active{background:var(--sidebar-hover)}
.sidebar-tool:disabled{opacity:.5;cursor:not-allowed;color:var(--text-secondary)}
.sidebar-tool:disabled:hover{background:transparent}
.tool-panel{position:absolute;top:80px;right:16px;background-color:var(--bg-panel);border:1px solid var(--border-main);border-radius:4px;padding:16px;box-shadow:0 2px 6px rgba(0,0,0,.12);z-index:5;min-width:220px;max-width:90vw}
.text-tool-panel,.shape-tool-panel{display:flex;flex-direction:column;gap:8px}
.text-tool-panel input{padding:8px;border:1px solid var(--border-main);border-radius:4px;font-size:1rem;background:var(--bg-panel);color:var(--text-main)}
.add-text-btn{display:flex;align-items:center;justify-content:center;gap:8px;padding:12px 16px;background:transparent;color:var(--toolbar-icon-active);border:1px solid var(--toolbar-icon-active);border-radius:6px;font-weight:600;font-size:14px;cursor:pointer;transition:all .2s ease;box-shadow:0 1px 3px rgba(0,114,163,.12);min-height:44px}
.add-text-btn:hover:not(:disabled){background:var(--toolbar-icon-active);color:var(--bg-panel);border-color:var(--toolbar-icon-active);box-shadow:0 4px 8px rgba(0,114,163,.4);transform:translateY(-1px)}
.add-text-btn:active:not(:disabled){transform:translateY(0);box-shadow:0 2px 4px rgba(0,114,163,.3)}
.add-text-btn:disabled{background:transparent;border-color:var(--text-secondary);color:var(--text-secondary);cursor:not-allowed;box-shadow:none;opacity:.5}
.draggable-overlay{position:absolute;cursor:move;user-select:none;z-index:10;background:var(--bg-panel);border:1.5px solid var(--toolbar-icon-active);border-radius:4px;padding:4px;min-width:50px;min-height:30px;display:flex;align-items:center;justify-content:center;font-size:1rem;max-width:90vw;box-sizing:border-box;box-shadow:none;color:var(--text-main)}
.draggable-overlay:hover{border-color:var(--toolbar-icon-active);background:var(--bg-panel);opacity:.95}
.confirm-btn{position:absolute;top:-8px;right:-8px;width:24px;height:24px;min-width:24px;padding:0;border-radius:50%;background:#0072a3;color:white;border:none;cursor:pointer;display:flex;align-items:center;justify-content:center;font-size:12px;box-shadow:0 1px 3px rgba(0,0,0,.15)}
.confirm-btn:hover{background:#005a8b;transform:scale(1.1)}
.mode-toggle-btn{position:fixed;top:24px;right:32px;z-index:100;background:var(--toolbar-bg)!important;color:var(--toolbar-icon)!important;box-shadow:0 1px 3px rgba(0,0,0,.12);border-radius:50%;width:56px;height:56px;min-width:56px;min-height:56px;display:flex;align-items:center;justify-content:center;transition:background .2s,color .2s}
.mode-toggle-btn:hover{background:var(--button-hover)!important;color:var(--toolbar-icon-active)!important}
.dark-mode .mode-toggle-btn{background:#2a3439!important;color:#e9ecef!important}
.dark-mode .mode-toggle-btn:hover{background:#343a40!important;color:#49afd9!important}
@media (max-width:1200px){.editor-content{flex-direction:column;gap:16px}.editor-sidebar{width:100%;min-width:0;border-radius:8px;margin-top:24px;max-width:100vw}.canvas-container-outer{min-width:0;padding:16px;max-width:100vw}}
@media (max-width:900px){.editor-toolbar{flex-wrap:wrap;padding:8px;min-height:56px;margin:12px 8px 0 8px}.editor-content{flex-direction:column;gap:12px;margin:0 8px 8px 8px}.editor-sidebar{width:100%;min-width:0;border-radius:8px;margin-top:16px;padding:20px 8px}.canvas-container-outer{min-width:0;padding:8px;max-width:100vw}.canvas-container{min-width:180px;min-height:120px;max-width:100vw;max-height:40vh;border-radius:6px}.editor-canvas{max-width:100vw;max-height:40vh;border-radius:4px}.tool-panel{min-width:120px;max-width:98vw;right:4px;top:60px}}
@media (max-width:600px){.editor-toolbar{flex-wrap:wrap;padding:4px;min-height:44px;margin:4px 0 0 0;border-radius:0}.editor-content{flex-direction:column;gap:6px;margin:0 0 4px 0}.editor-sidebar{width:100%;min-width:0;border-radius:0;margin-top:4px;padding:10px 2px}.canvas-container-outer{min-width:0;padding:2px;max-width:100vw;border-radius:0}.canvas-container{min-width:80px;min-height:60px;max-width:100vw;max-height:30vh;border-radius:0}.editor-canvas{max-width:100vw;max-height:30vh;border-radius:0}.tool-panel{min-width:80px;max-width:99vw;right:2px;top:44px;border-radius:0;padding:8px 2px}.sidebar-tool{font-size:.95rem;min-height:36px;padding:6px 4px;border-radius:4px}.add-text-btn{font-size:12px;min-height:36px;padding:8px 8px;border-radius:4px}}

/* Custom tooltip styles for immediate display */
.sidebar-tool {
  position: relative;
}

.sidebar-tool::before {
  content: attr(data-tooltip);
  position: absolute;
  bottom: 100%;
  left: 50%;
  transform: translateX(-50%);
  background: var(--bg-panel);
  color: var(--text-main);
  padding: 8px 12px;
  border-radius: 6px;
  font-size: 14px;
  white-space: nowrap;
  box-shadow: 0 2px 8px rgba(0, 0, 0, 0.15);
  border: 1px solid var(--border-main);
  opacity: 0;
  visibility: hidden;
  transition: opacity 0.1s ease, visibility 0.1s ease;
  z-index: 1000;
  pointer-events: none;
}

.sidebar-tool:hover::before {
  opacity: 1;
  visibility: visible;
}

/* Dark mode tooltip adjustments */
.dark-mode .sidebar-tool::before {
  background: #2a3439;
  color: #e9ecef;
  border-color: #495057;
  box-shadow: 0 2px 8px rgba(0, 0, 0, 0.3);
}
 